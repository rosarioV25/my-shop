<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Politica Rimborsi e Resi | DesignShop</title>
    <meta name="description" content="Garanzia soddisfatti o rimborsati al 100%. Procedura automatica di rimborso entro 30 giorni dall'acquisto.">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --primary: #2563eb;
            --secondary: #10b981;
            --dark: #1f2937;
            --light: #f9fafb;
            --gray: #6b7280;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #ffffff;
            color: var(--dark);
            line-height: 1.7;
        }
        
        header {
            background: var(--dark);
            color: white;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        nav {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 24px;
            font-weight: 800;
            color: white;
            text-decoration: none;
        }
        
        .hero-policy {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 80px 20px;
            text-align: center;
        }
        
        .hero-policy h1 {
            font-size: 48px;
            font-weight: 800;
            margin-bottom: 20px;
        }
        
        .hero-policy p {
            font-size: 20px;
            opacity: 0.95;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 60px 20px;
        }
        
        .guarantee-badge {
            background: var(--secondary);
            color: white;
            padding: 20px 40px;
            border-radius: 50px;
            display: inline-flex;
            align-items: center;
            gap: 15px;
            font-size: 20px;
            font-weight: 700;
            margin: 30px 0;
            box-shadow: 0 10px 30px rgba(16, 185, 129, 0.3);
        }
        
        .guarantee-badge i {
            font-size: 32px;
        }
        
        .section {
            background: white;
            padding: 40px;
            border-radius: 12px;
            margin-bottom: 30px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
        }
        
        h2 {
            color: var(--primary);
            font-size: 28px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        h3 {
            color: var(--dark);
            font-size: 20px;
            margin: 25px 0 15px;
        }
        
        p {
            margin-bottom: 15px;
            color: #4b5563;
        }
        
        ul {
            margin-left: 25px;
            margin-bottom: 20px;
        }
        
        li {
            margin-bottom: 10px;
            color: #4b5563;
        }
        
        .refund-form {
            background: var(--light);
            padding: 40px;
            border-radius: 12px;
            margin-top: 40px;
        }
        
        .form-group {
            margin-bottom: 25px;
        }
        
        label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--dark);
        }
        
        input, select, textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-size: 16px;
            font-family: inherit;
            transition: border 0.3s;
        }
        
        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--primary);
        }
        
        textarea {
            resize: vertical;
            min-height: 120px;
        }
        
        .btn-submit {
            background: var(--primary);
            color: white;
            padding: 18px 40px;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s;
        }
        
        .btn-submit:hover {
            background: #1e40af;
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(37, 99, 235, 0.3);
        }
        
        .process-steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .step {
            text-align: center;
            padding: 25px;
            background: var(--light);
            border-radius: 12px;
        }
        
        .step-number {
            background: var(--primary);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: 800;
            margin: 0 auto 15px;
        }
        
        .alert {
            background: #fef3c7;
            border-left: 4px solid #f59e0b;
            padding: 20px;
            border-radius: 8px;
            margin: 25px 0;
        }
        
        .alert-success {
            background: #d1fae5;
            border-left-color: var(--secondary);
        }
        
        .contact-info {
            background: var(--dark);
            color: white;
            padding: 30px;
            border-radius: 12px;
            margin-top: 40px;
            text-align: center;
        }
        
        .contact-info a {
            color: var(--secondary);
            text-decoration: none;
            font-weight: 600;
        }
        
        footer {
            background: #111827;
            color: #9ca3af;
            padding: 40px 20px;
            text-align: center;
            margin-top: 60px;
        }
        
        .btn-back {
            display: inline-block;
            margin-top: 30px;
            padding: 12px 30px;
            background: white;
            color: var(--primary);
            text-decoration: none;
            border-radius: 8px;
            font-weight: 600;
            transition: all 0.3s;
        }
        
        .btn-back:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
    </style>
</head>
<body>
    <header>
        <nav>
            <a href="index_nuovo.html" class="logo">
                <i class="fas fa-shopping-bag"></i> DesignShop
            </a>
            <a href="index_nuovo.html" style="color: white; text-decoration: none;">
                <i class="fas fa-arrow-left"></i> Torna allo Shop
            </a>
        </nav>
    </header>

    <div class="hero-policy">
        <h1><i class="fas fa-shield-check"></i> Politica Rimborsi e Resi</h1>
        <p>Garanzia Soddisfatti o Rimborsati al 100%</p>
        <div class="guarantee-badge">
            <i class="fas fa-check-circle"></i>
            30 GIORNI DI GARANZIA
        </div>
    </div>

    <div class="container">
        <!-- SEZIONE PRINCIPALE -->
        <div class="section">
            <h2><i class="fas fa-info-circle"></i> La Nostra Garanzia</h2>
            <p style="font-size: 18px; font-weight: 600; color: var(--dark);">
                Siamo così sicuri della qualità dei nostri prodotti che offriamo una garanzia soddisfatti o rimborsati al 100% entro 30 giorni dall'acquisto.
            </p>
            
            <div class="alert-success alert">
                <strong><i class="fas fa-heart"></i> Promessa DesignShop:</strong> Se per qualsiasi motivo non sei completamente soddisfatto del tuo acquisto, ti rimborseremo l'intero importo - senza fare domande!
            </div>
        </div>

        <!-- CONDIZIONI RIMBORSO -->
        <div class="section">
            <h2><i class="fas fa-list-check"></i> Condizioni per il Rimborso</h2>
            
            <h3>✅ Rimborso Accettato Per:</h3>
            <ul>
                <li>Prodotto difettoso o danneggiato</li>
                <li>Dimensione errata ricevuta</li>
                <li>Colore o design diverso da quello ordinato</li>
                <li>Ritardo nella consegna superiore a 15 giorni</li>
                <li>Insoddisfazione generale del prodotto (entro 30 giorni)</li>
            </ul>
            
            <h3>❌ Rimborso NON Disponibile Per:</h3>
            <ul>
                <li>Prodotti personalizzati oltre 30 giorni dall'acquisto</li>
                <li>Prodotti utilizzati o lavati (eccetto per verificare difetti)</li>
                <li>Prodotti senza etichetta originale</li>
                <li>Cambiamenti di idea dopo 30 giorni</li>
            </ul>
            
            <div class="alert">
                <strong><i class="fas fa-clock"></i> Importante:</strong> La richiesta di rimborso deve essere inviata entro 30 giorni dalla data di consegna del prodotto.
            </div>
        </div>

        <!-- PROCESSO RIMBORSO -->
        <div class="section">
            <h2><i class="fas fa-route"></i> Come Funziona il Rimborso Automatico</h2>
            
            <div class="process-steps">
                <div class="step">
                    <div class="step-number">1</div>
                    <h4>Richiedi Rimborso</h4>
                    <p>Compila il modulo qui sotto con i dettagli del tuo ordine</p>
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <h4>Conferma Automatica</h4>
                    <p>Ricevi email di conferma entro 24 ore</p>
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <h4>Spedisci il Reso</h4>
                    <p>Ti invieremo etichetta di reso prepagata</p>
                </div>
                <div class="step">
                    <div class="step-number">4</div>
                    <h4>Rimborso Emesso</h4>
                    <p>Rimborso entro 5-7 giorni dalla ricezione</p>
                </div>
            </div>
            
            <p><strong>Tempo Totale Stimato:</strong> 10-14 giorni lavorativi dal momento della richiesta al rimborso completo.</p>
        </div>

        <!-- MODULO RIMBORSO -->
        <div class="section">
            <h2><i class="fas fa-file-invoice-dollar"></i> Richiedi Rimborso Ora</h2>
            <p>Compila il modulo qui sotto. Processeremo la tua richiesta automaticamente entro 24 ore.</p>
            
            <div class="refund-form">
                <form id="refundForm" onsubmit="handleRefundSubmit(event)">
                    <div class="form-group">
                        <label for="orderId"><i class="fas fa-hashtag"></i> Numero Ordine *</label>
                        <input type="text" id="orderId" name="orderId" placeholder="Es: ORD-123456" required>
                        <small style="color: var(--gray); display: block; margin-top: 5px;">
                            Lo trovi nell'email di conferma ordine
                        </small>
                    </div>
                    
                    <div class="form-group">
                        <label for="email"><i class="fas fa-envelope"></i> Email *</label>
                        <input type="email" id="email" name="email" placeholder="la-tua-email@esempio.com" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="reason"><i class="fas fa-comment-dots"></i> Motivo del Reso *</label>
                        <select id="reason" name="reason" required>
                            <option value="">Seleziona un motivo...</option>
                            <option value="difettoso">Prodotto difettoso o danneggiato</option>
                            <option value="taglia">Taglia errata ricevuta</option>
                            <option value="colore">Colore/Design diverso</option>
                            <option value="ritardo">Ritardo nella consegna</option>
                            <option value="insoddisfatto">Non soddisfatto del prodotto</option>
                            <option value="altro">Altro motivo</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="details"><i class="fas fa-align-left"></i> Dettagli Aggiuntivi</label>
                        <textarea id="details" name="details" placeholder="Descrivi brevemente il problema o il motivo del reso..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label>
                            <input type="checkbox" required style="width: auto; margin-right: 10px;">
                            Confermo di aver letto e accettato la <a href="termini-servizio.html" target="_blank">politica di reso</a>
                        </label>
                    </div>
                    
                    <button type="submit" class="btn-submit">
                        <i class="fas fa-paper-plane"></i> Invia Richiesta Rimborso
                    </button>
                </form>
                
                <div id="successMessage" style="display: none; background: #d1fae5; padding: 30px; border-radius: 12px; margin-top: 30px; text-align: center;">
                    <i class="fas fa-check-circle" style="font-size: 64px; color: var(--secondary); margin-bottom: 20px;"></i>
                    <h3 style="color: var(--secondary); margin-bottom: 15px;">Richiesta Inviata con Successo!</h3>
                    <p style="color: var(--dark);">
                        Riceverai una email di conferma entro 24 ore con le istruzioni per la spedizione del reso.
                        Il tuo numero di pratica è: <strong id="ticketNumber"></strong>
                    </p>
                    <a href="index_nuovo.html" class="btn-back">Torna allo Shop</a>
                </div>
            </div>
        </div>

        <!-- SPEDIZIONE RESO -->
        <div class="section">
            <h2><i class="fas fa-shipping-fast"></i> Spedizione del Reso</h2>
            
            <h3>Etichetta Prepagata</h3>
            <p>Ti invieremo via email un'etichetta di spedizione prepagata. Non dovrai pagare nulla per il reso!</p>
            
            <h3>Come Spedire:</h3>
            <ol>
                <li>Riponi il prodotto nella confezione originale (se possibile)</li>
                <li>Stampa l'etichetta di reso ricevuta via email</li>
                <li>Attacca l'etichetta al pacco</li>
                <li>Consegna il pacco al corriere indicato nell'etichetta</li>
            </ol>
            
            <div class="alert">
                <strong><i class="fas fa-info-circle"></i> Nota:</strong> Conserva la ricevuta di spedizione fino al rimborso completo.
            </div>
        </div>

        <!-- TEMPISTICHE -->
        <div class="section">
            <h2><i class="fas fa-calendar-alt"></i> Tempistiche di Rimborso</h2>
            
            <table style="width: 100%; border-collapse: collapse; margin: 20px 0;">
                <tr style="background: var(--light);">
                    <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e5e7eb;">Fase</th>
                    <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e5e7eb;">Tempo Stimato</th>
                </tr>
                <tr>
                    <td style="padding: 15px; border-bottom: 1px solid #e5e7eb;">Conferma richiesta</td>
                    <td style="padding: 15px; border-bottom: 1px solid #e5e7eb;">24 ore</td>
                </tr>
                <tr style="background: var(--light);">
                    <td style="padding: 15px; border-bottom: 1px solid #e5e7eb;">Ricezione del reso</td>
                    <td style="padding: 15px; border-bottom: 1px solid #e5e7eb;">3-7 giorni lavorativi</td>
                </tr>
                <tr>
                    <td style="padding: 15px; border-bottom: 1px solid #e5e7eb;">Ispezione prodotto</td>
                    <td style="padding: 15px; border-bottom: 1px solid #e5e7eb;">1-2 giorni lavorativi</td>
                </tr>
                <tr style="background: var(--light);">
                    <td style="padding: 15px; border-bottom: 1px solid #e5e7eb;">Emissione rimborso</td>
                    <td style="padding: 15px; border-bottom: 1px solid #e5e7eb;">2-3 giorni lavorativi</td>
                </tr>
                <tr>
                    <td style="padding: 15px; font-weight: 700;">TOTALE</td>
                    <td style="padding: 15px; font-weight: 700; color: var(--primary);">10-14 giorni lavorativi</td>
                </tr>
            </table>
        </div>

        <!-- METODO RIMBORSO -->
        <div class="section">
            <h2><i class="fas fa-credit-card"></i> Metodo di Rimborso</h2>
            <p>Il rimborso verrà emesso automaticamente sullo stesso metodo di pagamento utilizzato per l'acquisto:</p>
            
            <ul>
                <li><strong>Carta di Credito/Debito:</strong> 3-5 giorni lavorativi</li>
                <li><strong>PayPal:</strong> 1-2 giorni lavorativi</li>
                <li><strong>Bonifico Bancario:</strong> 5-7 giorni lavorativi</li>
            </ul>
            
            <p>Riceverai una email di conferma quando il rimborso sarà stato processato.</p>
        </div>

        <!-- CONTATTI -->
        <div class="contact-info">
            <h3 style="color: white; margin-bottom: 20px;">
                <i class="fas fa-headset"></i> Hai Bisogno di Aiuto?
            </h3>
            <p>Il nostro team è qui per aiutarti!</p>
            <p style="margin-top: 15px;">
                <i class="fas fa-envelope"></i> Email: <a href="mailto:support@designshop.com">support@designshop.com</a><br>
                <i class="fas fa-phone"></i> Telefono: +39 02 1234 5678 (Lun-Ven 9-18)<br>
                <i class="fas fa-comments"></i> Chat dal vivo disponibile sul sito
            </p>
        </div>
    </div>

    <footer>
        <p>&copy; 2025 DesignShop. Tutti i diritti riservati.</p>
        <p style="margin-top: 10px;">
            <a href="termini-servizio.html" style="color: var(--secondary); text-decoration: none;">Termini di Servizio</a> | 
            <a href="privacy.html" style="color: var(--secondary); text-decoration: none;">Privacy Policy</a>
        </p>
    </footer>

    <script>
        // Configurazione API
        const API_URL = 'http://localhost:5000/api/rimborso'; // In produzione: https://tuo-server.com/api/rimborso
        
        async function handleRefundSubmit(event) {
            event.preventDefault();
            
            // Mostra loader
            const submitBtn = event.target.querySelector('button[type="submit"]');
            const originalText = submitBtn.innerHTML;
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processando...';
            submitBtn.disabled = true;
            
            // Raccogli dati form
            const formData = new FormData(event.target);
            const data = {
                orderId: formData.get('orderId'),
                email: formData.get('email'),
                reason: formData.get('reason'),
                details: formData.get('details')
            };
            
            try {
                // Invia richiesta a backend Python
                const response = await fetch(API_URL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data)
                });
                
                const result = await response.json();
                
                if (result.success) {
                    // Rimborso processato con successo
                    console.log('✅ Rimborso approvato:', result);
                    
                    // Aggiorna UI con numero pratica reale
                    document.getElementById('ticketNumber').textContent = result.ticket_number;
                    document.getElementById('refundForm').style.display = 'none';
                    document.getElementById('successMessage').style.display = 'block';
                    
                    // Scroll verso messaggio successo
                    document.getElementById('successMessage').scrollIntoView({ 
                        behavior: 'smooth', 
                        block: 'center' 
                    });
                    
                } else {
                    // Errore nel processamento
                    alert('❌ Errore: ' + (result.error || 'Impossibile processare rimborso'));
                    submitBtn.innerHTML = originalText;
                    submitBtn.disabled = false;
                }
                
            } catch (error) {
                // Errore di rete o server offline
                console.error('Errore connessione:', error);
                alert('⚠️ Errore di connessione. Riprova o contatta support@designshop.com');
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;
            }
        }
        
        // Funzione per controllare stato richiesta
        async function checkRefundStatus(ticketNumber) {
            try {
                const response = await fetch(`http://localhost:5000/api/stato-rimborso/${ticketNumber}`);
                const result = await response.json();
                return result;
            } catch (error) {
                console.error('Errore controllo stato:', error);
                return null;
            }
        }
    </script>
</body>
</html>
